<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="冒泡排序（Bubble Sort）（稳定排序）（超出时间限制）比较相邻元素，如果第一个比第二个大，则交换。 时间复杂度$n^2$，空间复杂度1 代码： class Solution { public:     vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {         &#x2F;&#x2F; bubbleSort         int n">
<meta property="og:type" content="article">
<meta property="og:title" content="排序">
<meta property="og:url" content="https://kpl0111.github.io/blog/2022/10a444b428.html">
<meta property="og:site_name" content="Nefelibata">
<meta property="og:description" content="冒泡排序（Bubble Sort）（稳定排序）（超出时间限制）比较相邻元素，如果第一个比第二个大，则交换。 时间复杂度$n^2$，空间复杂度1 代码： class Solution { public:     vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {         &#x2F;&#x2F; bubbleSort         int n">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://picture-0111.oss-cn-beijing.aliyuncs.com/img/20221015114004.png">
<meta property="article:published_time" content="2022-10-15T03:08:40.000Z">
<meta property="article:modified_time" content="2023-07-07T10:25:20.919Z">
<meta property="article:author" content="Nefelibata">
<meta property="article:tag" content="Simple">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://picture-0111.oss-cn-beijing.aliyuncs.com/img/20221015114004.png">
    
    
        
          
              <link rel="shortcut icon" href="/blog/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/blog/images/favicon.ico" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/favicon.ico">
          
        
    
    <!-- title -->
    <title>排序</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/blog/lib/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/blog/lib/meslo-LG/styles.css">

    
<link rel="stylesheet" href="/blog/lib/justified-gallery/justifiedGallery.min.css">

    
<link rel="stylesheet" href="/blog/css/style.css">

    <!-- rss -->
    
    
    <!-- jquery -->
    
<script src="/blog/lib/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/blog/atom.xml" title="Nefelibata" type="application/atom+xml">
</head>

<body>
    <div class="banner">
<div id="blogtitel" class="blogtitel">Nefelibata</div>
<ul id="wrapper" class="wrapper">
  <div class="sun">
    <div class="star"></div>
  </div>
  <div class="mercury">
    <div class="planet">
      <div class="shadow"></div>
    </div>
  </div>
  <div class="venus">
    <div class="planet">
      <div class="shadow"></div>
    </div>
  </div>
  <div class="earth">
    <div class="planet"><div class="shadow"></div></div>
  </div>
  <div class="mars">
    <div class="planet"><div class="shadow"></div></div>
  </div>
  <div class="jupiter">
    <div class="planet"><div class="shadow"></div></div>
  </div>
</ul>
</div>

    <div class="background">
      
        <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="https://kpl0111.github.io">Home</a></li>
         
          <li><a href="/blog/">Blog</a></li>
         
          <li><a href="/blog/archives/">Timeline</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/kpl0111">Github</a></li>
         
          <li><a href="https://kpl0111.github.io/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/blog/2022/11b8858517.html"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li>
        
        
        <li><a class="icon" href="/blog/2022/1072a96e3d.html"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://kpl0111.github.io/blog/2022/10a444b428.html"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://kpl0111.github.io/blog/2022/10a444b428.html&text=排序"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://kpl0111.github.io/blog/2022/10a444b428.html&title=排序"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://kpl0111.github.io/blog/2022/10a444b428.html&is_video=false&description=排序"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=排序&body=Check out this article: https://kpl0111.github.io/blog/2022/10a444b428.html"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://kpl0111.github.io/blog/2022/10a444b428.html&title=排序"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://kpl0111.github.io/blog/2022/10a444b428.html&title=排序"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://kpl0111.github.io/blog/2022/10a444b428.html&title=排序"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://kpl0111.github.io/blog/2022/10a444b428.html&title=排序"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://kpl0111.github.io/blog/2022/10a444b428.html&name=排序&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%EF%BC%88Bubble-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89%EF%BC%88%E8%B6%85%E5%87%BA%E6%97%B6%E9%97%B4%E9%99%90%E5%88%B6%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">冒泡排序（Bubble Sort）（稳定排序）（超出时间限制）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%EF%BC%88Select-Sort%EF%BC%89%EF%BC%88%E9%9D%9E%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89%EF%BC%88%E8%B6%85%E5%87%BA%E6%97%B6%E9%97%B4%E9%99%90%E5%88%B6%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">选择排序（Select Sort）（非稳定排序）（超出时间限制）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%EF%BC%88Insect-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89%EF%BC%88%E8%B6%85%E5%87%BA%E6%97%B6%E9%97%B4%E9%99%90%E5%88%B6%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">插入排序（Insect Sort）（稳定排序）（超出时间限制）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%EF%BC%88Shell-Sort%EF%BC%89%EF%BC%88%E9%9D%9E%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">希尔排序（Shell Sort）（非稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%EF%BC%88Merge-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">归并排序（Merge Sort）（稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%EF%BC%88Quick-Sort%EF%BC%89%EF%BC%88%E9%9D%9E%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">快速排序（Quick Sort）（非稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86%E6%8E%92%E5%BA%8F%EF%BC%88Heap-Sort%EF%BC%89%EF%BC%88%E9%9D%9E%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">7.</span> <span class="toc-text">堆排序（Heap Sort）（非稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F%EF%BC%88Count-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">计数排序（Count Sort）（稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%B6%E6%8E%92%E5%BA%8F%EF%BC%88Bucket-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">9.</span> <span class="toc-text">桶排序（Bucket Sort）（稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F%EF%BC%88Radix-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">10.</span> <span class="toc-text">基数排序（Radix Sort）（稳定排序）</span></a></li></ol>
    </div>
  </span>
</div>

      
      <div class="content index width mx-auto px2 my4">
          
          <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        排序
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Nefelibata</span>
      </span>
      
    <div class="postdate">
        <time datetime="2022-10-15T03:08:40.000Z" itemprop="datePublished">2022-10-15</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p><img src="https://picture-0111.oss-cn-beijing.aliyuncs.com/img/20221015114004.png" alt="20221015114004"></p>
<h2 id="冒泡排序（Bubble-Sort）（稳定排序）（超出时间限制）"><a href="#冒泡排序（Bubble-Sort）（稳定排序）（超出时间限制）" class="headerlink" title="冒泡排序（Bubble Sort）（稳定排序）（超出时间限制）"></a>冒泡排序（Bubble Sort）（稳定排序）（超出时间限制）</h2><p>比较相邻元素，如果第一个比第二个大，则交换。</p>
<p>时间复杂度$n^2$，空间复杂度1</p>
<p>代码：</p>
<pre><code class="cpp">class Solution {
public:
    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {
        // bubbleSort
        int n = nums.size();
        for (int i = 0; i &lt; n - 1; ++i) {
            bool flag = false;
            for (int j = 0; j &lt; n - 1 - i; ++j) {
                if (nums[j] &gt; nums[j + 1]) {
                    swap(nums[j], nums[j + 1]);
                    flag = true;
                }                 
            }
            if (flag == false) break; //无交换，代表当前序列已经最优 
        }
        return nums;
    }
};
</code></pre>
<h2 id="选择排序（Select-Sort）（非稳定排序）（超出时间限制）"><a href="#选择排序（Select-Sort）（非稳定排序）（超出时间限制）" class="headerlink" title="选择排序（Select Sort）（非稳定排序）（超出时间限制）"></a>选择排序（Select Sort）（非稳定排序）（超出时间限制）</h2><p>依次给每个位置选择当前位置及以后最小的元素（交换当前元素与之后最小元素的位置）。</p>
<p>不稳定举例：<br>排序前：5, 5*, 1, 7<br>排序后：1, 5*, 5, 7</p>
<p>时间复杂度$n^2$，空间复杂度1</p>
<p>代码：</p>
<pre><code class="cpp">class Solution {
public:
    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {
        // selectSort 选择排序
        int minIndex;
        int n = nums.size();
        for (int i = 0; i &lt; n - 1; ++i) {
            minIndex = i;
            for (int j = i + 1; j &lt; n; ++j) {
                if (nums[j] &lt; nums[minIndex]) {
                    minIndex = j;
                }
            }
            swap(nums[i], nums[minIndex]);
        }
        return nums;
    }
};
</code></pre>
<h2 id="插入排序（Insect-Sort）（稳定排序）（超出时间限制）"><a href="#插入排序（Insect-Sort）（稳定排序）（超出时间限制）" class="headerlink" title="插入排序（Insect Sort）（稳定排序）（超出时间限制）"></a>插入排序（Insect Sort）（稳定排序）（超出时间限制）</h2><p>在前 1~i - 1元素有序的情况下，（依次）将第 i 个元素插入前面已经有序的小序列，使其有序。使用哨兵减少比较</p>
<p>时间复杂度$n^2$，空间复杂度1</p>
<p>代码：</p>
<pre><code class="cpp">class Solution {
public:
    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {
        int i, j;
        for (i = 2; i &lt;= nums.size(); i++) {
            if (nums[i] &lt; nums[i - 1]) {
                nums[0] = nums[i]; //nums[0]为哨兵
                for (j = i - 1; nums[0] &lt; nums[j]; j--) {
                    nums[j + 1] =nums[j];
                }
                nums[j + 1] = nums[0];
            }
        }
        return nums;
    }
};
</code></pre>
<p>插入排序在此基础上也可以将搜索和移动分开，使用二分查找先找到要插入位置，然后再移动</p>
<pre><code class="cpp">class Solution {
public:
    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {
        int i, j, low, high, mid;
        for (i = 2; i &lt;= nums.size(); i++) {
            nums[0] = nums[i];
            low = 1; high = i - 1;
            while (low &lt;= high) {
                mid = (low + high) / 2;
                if (nums[mid] &gt; nums[0]) high = mid - 1;
                else low = mid + 1;
            }
            for (j = i - 1; j &gt; high + 1; j--)
                nums[j + 1] = nums[j];
            nums[high + 1] = nums[0];
        }
        return nums;
    }
};
</code></pre>
<h2 id="希尔排序（Shell-Sort）（非稳定排序）"><a href="#希尔排序（Shell-Sort）（非稳定排序）" class="headerlink" title="希尔排序（Shell Sort）（非稳定排序）"></a>希尔排序（Shell Sort）（非稳定排序）</h2><p>改进的插入排序（优化：原数组的一个元素距离正确位置很远的情况）<br>先让间隔 h 的元素有序，在使得间隔为 h / 2，一直缩小，一直到 h = 1（此时数组有序）。</p>
<p>时间复杂度介于nlogn和$n^2$之间，空间复杂度1</p>
<p>代码：</p>
<pre><code class="cpp">class Solution {
    void shellSort(vector&lt;int&gt;&amp;nums, int gap, int i) {
        int j, tmp = nums[i];
        for (j = i - gap; j &gt;= 0 &amp;&amp; tmp &lt; nums[j]; j -= gap) {
            // 依次后移
            nums[j + gap] = nums[j];
        }
        nums[j + gap] = tmp;
    }
public:
    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {
        int n = nums.size();
        // 分组，最开始时，间隔 gap 为数组的一半
        for (int gap = n / 2; gap &gt;= 1 ; gap /= 2) {
            // 对各个分组进行插入分组
            for (int i = gap; i &lt; n; ++i) {
                shellSort(nums, gap, i);
            }
        }
        return nums;
    }
};
</code></pre>
<h2 id="归并排序（Merge-Sort）（稳定排序）"><a href="#归并排序（Merge-Sort）（稳定排序）" class="headerlink" title="归并排序（Merge Sort）（稳定排序）"></a>归并排序（Merge Sort）（稳定排序）</h2><p>将无序数组拆分，排序后再合并成大的有序数组。</p>
<p>时间复杂度nlogn，空间复杂度n</p>
<p>代码：</p>
<pre><code class="cpp">class Solution {
    vector&lt;int&gt; tmp;
    void merge (vector&lt;int&gt;&amp; nums, int low, int mid, int high) {
        for (int k = low; k &lt;= high; k++) {
            tmp[k] = nums[k];
        }

        int i, j;
        for (i = low, j = mid + 1, k = i; i &lt;= mid &amp;&amp; j &lt;=high; k++) {
            if (tmp[i] &lt;= tmp[j]) {
                nums[k] = tmp[i++];
            } else {
                nums[k] = tmp[j++];
            }
        }
        while (i &lt;= mid) nums[k++] = tmp[i++];
        while (j &lt;= high) nums[k++] = tmp[j++];
    }
public:
    vector&lt;int&gt; mergeSort(vector&lt;int&gt;&amp; nums, int low, int high) {
        if (low &lt; high) {
            int mid = (low + high) / 2;
            mergeSort(nums, low, mid + 1);
            mergeSort(nums, mid + 1, high);
            merge(nums, low, mid, high);
        }
    }
};
</code></pre>
<h2 id="快速排序（Quick-Sort）（非稳定排序）"><a href="#快速排序（Quick-Sort）（非稳定排序）" class="headerlink" title="快速排序（Quick Sort）（非稳定排序）"></a>快速排序（Quick Sort）（非稳定排序）</h2><p>随机选取一个数（x = rand() % len + startIndex）作为基准；<br>把比基准小的数交换到前面，比基准大的数交换到后面；<br>对左右区间递归重复。</p>
<p>时间复杂度nlogn，空间复杂度logn</p>
<p>代码：</p>
<pre><code class="cpp">class Solution {
    void quickSort(vector&lt;int&gt;&amp;nums, int startIndex, int endIndex) {
        if (startIndex &gt;= endIndex) return;
        
        int x = rand() % (endIndex - startIndex + 1) + startIndex; // 基于随机的原则
        swap(nums[startIndex], nums[x]);
        int firstNum = nums[startIndex];
        
        int l = startIndex, r = endIndex;
        while (l &lt; r) {
            // 从后往前走，将比第一个小的移到前面
            while (l &lt; r &amp;&amp; nums[r] &gt;= firstNum) --r;
            if (l &lt; r) {
                nums[l] = nums[r];
            }
            // 从前往后走，将比第一个大的移到后面
            while (l &lt; r &amp;&amp; nums[l] &lt;= firstNum) ++l;
            if (l &lt; r) {
                nums[r] = nums[l];
            }
        }
        nums[l] = firstNum;
        // 自顶向下
        quickSort(nums, startIndex, l - 1);
        quickSort(nums, l + 1, endIndex);
    }

public:
    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {
        int n = nums.size();
        quickSort(nums, 0, n - 1);
        return nums;
    }
};
</code></pre>
<h2 id="堆排序（Heap-Sort）（非稳定排序）"><a href="#堆排序（Heap-Sort）（非稳定排序）" class="headerlink" title="堆排序（Heap Sort）（非稳定排序）"></a>堆排序（Heap Sort）（非稳定排序）</h2><p>先在原先数组的基础上构造大根堆（时间复杂度nlogn）；<br>再依次弹出最大元素（每次弹出的时间复杂度为logk，k为当前大根堆中元素数目）。</p>
<p>时间复杂度nlogn，空间复杂度1</p>
<p>代码：</p>
<pre><code class="cpp">class Solution {
    void buildMaxHeap(vector&lt;int&gt;&amp; nums) {
        int n = nums.size();
        for (int i = (n - 1) / 2; i &gt;= 0; --i) {
            maxHeapify(nums, i, n);
        }
    }

    void maxHeapify(vector&lt;int&gt;&amp; nums, int i, int n) {
        while (i * 2 + 1 &lt; n) {
            // 代表当前 i 节点的左右儿子；
            // 超出数组大小则代表当前 i 节点为叶子节点，不需要移位
            int lSon = 2 * i + 1;
            int rSon = 2 * i + 2;
            int large = i;
            if (lSon &lt; n &amp;&amp; nums[lSon] &gt; nums[i]) large = lSon;
            if (rSon &lt; n &amp;&amp; nums[rSon] &gt; nums[large]) large = rSon;

            if (large != i) {
                swap(nums[i], nums[large]);
                // 迭代判断对应子节点及其儿子节点的大小关系
                i = large;
            } else {
                break;
            }
        }
    }

public:
    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {
        // heapSort 堆排序
        int n = nums.size();
        // 将数组整理成大根堆
        buildMaxHeap(nums);
        for (int i = n - 1; i &gt;= 1; --i) {
            // 依次弹出最大元素，放到数组最后，当前排序对应数组大小 - 1
            swap(nums[0], nums[i]);
            --n;
            maxHeapify(nums, 0, n);
        }
        return nums;
    }
};
</code></pre>
<h2 id="计数排序（Count-Sort）（稳定排序）"><a href="#计数排序（Count-Sort）（稳定排序）" class="headerlink" title="计数排序（Count Sort）（稳定排序）"></a>计数排序（Count Sort）（稳定排序）</h2><p>创建数组 counts，用于统计原数组 nums 中各元素值的出现次数；<br>再依次将元素值赋值到 nums 中对应位置。</p>
<p>计数排序，时间复杂度n + k，空间复杂度k（k = maxNum - minNum + 1）</p>
<p>代码：</p>
<pre><code class="cpp">class Solution {
public:
    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {
        // CountSort 计数排序
        int n = nums.size();
        int minNum = INT_MAX, maxNum = INT_MIN;
        // 找到数组中的最小和最大元素
        for (int i = 0; i &lt; n; ++i) {
            if (nums[i] &lt; minNum) minNum = nums[i];
            if (nums[i] &gt; maxNum) maxNum = nums[i];
        }
        // 构造计数数组
        vector&lt;int&gt; counts(maxNum - minNum + 1, 0);
        for (int i = 0; i &lt; n; ++i) {
            ++counts[nums[i] - minNum];
        }
        // 计数排序
        int index = 0;
        for (int i = 0; i &lt; counts.size(); ++i) {
            while (counts[i] != 0) {
                nums[index++] = i + minNum;
                counts[i]--;
            }
        }
        return nums;
    }
};
</code></pre>
<h2 id="桶排序（Bucket-Sort）（稳定排序）"><a href="#桶排序（Bucket-Sort）（稳定排序）" class="headerlink" title="桶排序（Bucket Sort）（稳定排序）"></a>桶排序（Bucket Sort）（稳定排序）</h2><p>将原数组的元素分到有限数量的桶里（大编号桶里的所有元素均大于小编号桶里的任意元素）；<br>分别对每个桶进行排序；<br>依次合并。</p>
<p>时间复杂度n + k，空间复杂度n + k（k为桶的数量）</p>
<p>代码：</p>
<pre><code class="cpp">class Solution {
public:
    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {
        // BucketSort 桶排序
        int n = nums.size();
        // 获取数组的最小值和最大值
        int maxNum = nums[0], minNum = nums[0];
        for (int i = 1; i &lt; n; ++i) {
            if (nums[i] &gt; maxNum) maxNum = nums[i];
            if (nums[i] &lt; minNum) minNum = nums[i];
        }
        // 初始化桶
        int bucketNum = 5, bucketSize = (maxNum - minNum) / bucketNum + 1;
        vector&lt;vector&lt;int&gt;&gt; buckets(bucketNum, vector&lt;int&gt;(0));
        // 小至大分桶
        for (int num : nums) {
            int bucketIndex = (num - minNum) / bucketSize;
            buckets[bucketIndex].emplace_back(num);
        }
        // 桶内排序
        for (int i = 0; i &lt; buckets.size(); ++i) {
            sort(buckets[i].begin(), buckets[i].end());
        }
        // 从桶中依次取数
        int index = 0;
        for (auto&amp; bucket : buckets) {
            for (int num : bucket) {
                nums[index++] = num;
            }
        }

        return nums;
    }
};
</code></pre>
<h2 id="基数排序（Radix-Sort）（稳定排序）"><a href="#基数排序（Radix-Sort）（稳定排序）" class="headerlink" title="基数排序（Radix Sort）（稳定排序）"></a>基数排序（Radix Sort）（稳定排序）</h2><p>对数组中所有数依次按由低到高的位数进行多次排序；<br>每次排序都基于上次排序的结果。<br>（相对位置顺序保持不变）</p>
<p>例：原始数组 1，23，21，11，32<br>第一次排序后 1，21，11，32，23<br>第二次排序后 1，11，21，23，32<br>时间复杂度n x k，空间复杂度k（k为最大元素的位数）</p>
<p>代码：</p>
<pre><code class="cpp">class Solution {
    vector&lt;int&gt; counts;
    void radixSort(vector&lt;int&gt;&amp; nums, vector&lt;int&gt;&amp; tmp, int divisor) {
        int n = nums.size();
        counts = vector&lt;int&gt;(10, 0);
        // 统计个、十、百、千、万上对应 0 ~ 9 的出现次数
        for (int i = 0; i &lt; n; ++i) {
            int x = (nums[i] / divisor) % 10;
            ++counts[x];
        }
        // 前缀和
        for (int i = 1; i &lt;= 9; ++i) {
            counts[i] += counts[i - 1];
        }
        // 从后向前赋值
        for (int i = n - 1; i &gt;= 0; --i) {
            int x = (nums[i] / divisor) % 10;
            int index = counts[x] - 1;
            tmp[index] = nums[i];
            --counts[x];
        }
    }

public:
    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {
        // RadixSort 基数排序
        int n = nums.size();
        // 预处理，让所有的数都大于等于0
        for (int i = 0; i &lt; n; ++i) {
            nums[i] += 50000; // 50000为最小可能的数组大小
        }
        // 找出最大的数字，并获得其最大位数
        int maxNum = nums[0];
        for (int i = 0; i &lt; n; ++i) {
            if (nums[i] &gt; maxNum) {
                maxNum = nums[i];
            }
        }
        int num = maxNum, maxLen = 0;
        while (num) {
            ++maxLen;
            num /= 10;
        }
        // 基数排序，低位优先
        int divisor = 1;
        vector&lt;int&gt; tmp(n, 0);
        for (int i = 0; i &lt; maxLen; ++i) {
            radixSort(nums, tmp, divisor);
            swap(tmp, nums);
            divisor *= 10;
        }
        // 减去预处理量
        for (int i = 0; i &lt; n; ++i) {
            nums[i] -= 50000;
        }
        return nums;
    }
};
</code></pre>

  </div>
</article>



      </div>
      
       <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="https://kpl0111.github.io">Home</a></li>
         
          <li><a href="/blog/">Blog</a></li>
         
          <li><a href="/blog/archives/">Timeline</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/kpl0111">Github</a></li>
         
          <li><a href="https://kpl0111.github.io/about">About</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%EF%BC%88Bubble-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89%EF%BC%88%E8%B6%85%E5%87%BA%E6%97%B6%E9%97%B4%E9%99%90%E5%88%B6%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">冒泡排序（Bubble Sort）（稳定排序）（超出时间限制）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%EF%BC%88Select-Sort%EF%BC%89%EF%BC%88%E9%9D%9E%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89%EF%BC%88%E8%B6%85%E5%87%BA%E6%97%B6%E9%97%B4%E9%99%90%E5%88%B6%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">选择排序（Select Sort）（非稳定排序）（超出时间限制）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%EF%BC%88Insect-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89%EF%BC%88%E8%B6%85%E5%87%BA%E6%97%B6%E9%97%B4%E9%99%90%E5%88%B6%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">插入排序（Insect Sort）（稳定排序）（超出时间限制）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%EF%BC%88Shell-Sort%EF%BC%89%EF%BC%88%E9%9D%9E%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">希尔排序（Shell Sort）（非稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%EF%BC%88Merge-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">归并排序（Merge Sort）（稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%EF%BC%88Quick-Sort%EF%BC%89%EF%BC%88%E9%9D%9E%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">快速排序（Quick Sort）（非稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86%E6%8E%92%E5%BA%8F%EF%BC%88Heap-Sort%EF%BC%89%EF%BC%88%E9%9D%9E%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">7.</span> <span class="toc-text">堆排序（Heap Sort）（非稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F%EF%BC%88Count-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">计数排序（Count Sort）（稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%B6%E6%8E%92%E5%BA%8F%EF%BC%88Bucket-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">9.</span> <span class="toc-text">桶排序（Bucket Sort）（稳定排序）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F%EF%BC%88Radix-Sort%EF%BC%89%EF%BC%88%E7%A8%B3%E5%AE%9A%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-number">10.</span> <span class="toc-text">基数排序（Radix Sort）（稳定排序）</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://kpl0111.github.io/blog/2022/10a444b428.html"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://kpl0111.github.io/blog/2022/10a444b428.html&text=排序"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://kpl0111.github.io/blog/2022/10a444b428.html&title=排序"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://kpl0111.github.io/blog/2022/10a444b428.html&is_video=false&description=排序"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=排序&body=Check out this article: https://kpl0111.github.io/blog/2022/10a444b428.html"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://kpl0111.github.io/blog/2022/10a444b428.html&title=排序"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://kpl0111.github.io/blog/2022/10a444b428.html&title=排序"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://kpl0111.github.io/blog/2022/10a444b428.html&title=排序"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://kpl0111.github.io/blog/2022/10a444b428.html&title=排序"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://kpl0111.github.io/blog/2022/10a444b428.html&name=排序&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

      
      <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2023 Nefelibata
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="https://kpl0111.github.io">Home</a></li>
         
          <li><a href="/blog/">Blog</a></li>
         
          <li><a href="/blog/archives/">Timeline</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/kpl0111">Github</a></li>
         
          <li><a href="https://kpl0111.github.io/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

      
<script src="/blog/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>


<script src="/blog/js/main.js"></script>

<!-- Google Analytics -->

<!-- Disqus Comments -->


    </div>
</body>
</html>
